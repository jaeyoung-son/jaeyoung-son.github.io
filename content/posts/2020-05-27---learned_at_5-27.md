---
title: '배움 정리하기'
date: '2020-05-278T12:10:32.169Z'
template: 'post'
draft: false
slug: '/posts/learned_5-27/'
category: 'learn'
description: '배움 정리 하기'
tags:
  - 'learn'
---

## 그날그날 배운것들을 기록하자.

## ref관련

리액트에서 dom에 직접접근을 하려고 할땐 ref를 사용해서 접근을 한다. map으로 요소들을 배열로 반환하면서 ref를 줄 상황이 생겨서 ref를 적용해보았다.

```jsx
const Component = () => {
  const [data, setData] = useState([]);
  const ref = useRef();

  return data.map(el => (
    <div>
      <input ref={ref} />
    </div>
  ));
};
```

처음에는 위와 같이 적용을 했었는데 위와같이 적용을 하게되면 결국에 하나의 요소만 ref에 담기더라 지금 생각해보면 당연한것같기도 하다.  
ref는 다뤄볼 일이 없어서 익숙치도 않고, 이것저것 시도해보려고 알아보며 다른 방법도 시도해보았다.

```jsx
const Component = () => {
  const [data, setData] = useState([]);
  const [target, setTarget] = useState(null);

  return data.map(el => (
    <div>
      <input ref={setTarget} />
    </div>
  ));
};
```

이렇게 셋상태함수를 붙어주면 ref 요소를 callback으로서 사용한다고 하는데 Ref가 붙었을 때, 떼어졌을 때 무언가 업데이트 할 수 있는 방법을 리액트에서 제시하려고 만들었다고 한다. 적용 해보니 역시나
결과는 같았다. 여기에서 포기하지 않고 마법을 부려본다면 다음과 같다.

```jsx
const Componenet = () => {
  const [data, setData] = useState([1, 2]);
  let refs = useRef([React.createRef(), React.createRef()]);

  return data.map((el, index) => (
    <div>
      <input ref={refs.current[index]} />
    </div>
  ));
};
```
